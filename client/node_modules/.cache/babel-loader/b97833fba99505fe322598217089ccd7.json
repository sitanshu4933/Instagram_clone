{"ast":null,"code":"var _jsxFileName = \"F:\\\\INSTAGRAM CLONE\\\\client\\\\src\\\\components\\\\Navbar.js\";\nimport React, { useContext, useEffect, useRef } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { UserContext } from '../App'; // import M from 'materialize-css'\n\nimport InputBase from '@material-ui/core/InputBase';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Popover from '@material-ui/core/Popover';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nconst useStyles2 = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    maxWidth: 860,\n    backgroundColor: theme.palette.background.paper,\n    position: 'relative',\n    overflow: 'auto',\n    maxHeight: 300\n  },\n  listSection: {\n    backgroundColor: 'inherit'\n  },\n  ul: {\n    backgroundColor: 'inherit',\n    padding: 0\n  }\n}));\n\nconst Navbar = () => {\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const history = useHistory();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [search, setSearch] = React.useState();\n  const searchRef = useRef();\n  const useStyles = makeStyles(theme => ({\n    root: {\n      flexGrow: 1\n    },\n    menuButton: {\n      marginRight: theme.spacing(2)\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    inputRoot: {\n      color: 'inherit'\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        width: '12ch',\n        '&:focus': {\n          width: '20ch'\n        }\n      }\n    }\n  }));\n\n  const handleClick = event => {\n    setAnchorEl(event.current);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : undefined;\n  const classes = useStyles();\n  const classes2 = useStyles2();\n\n  const renderlist = () => {\n    if (state) {\n      return [/*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.root,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.search,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.searchIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(SearchIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(InputBase, {\n        ref: searchRef,\n        onChange: e => {\n          searchUser(e.target.value);\n        },\n        placeholder: \"Search\\u2026\",\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput\n        },\n        inputProps: {\n          'aria-label': 'search'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      })))), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        key: \"2\",\n        to: \"/profile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }\n      }, \"Profile\")), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        key: \"3\",\n        to: \"/creatpost\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }, \"Create Post\")), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn waves-effect waves-light #f44336 red\",\n        type: \"submit\",\n        name: \"action\",\n        onClick: () => {\n          localStorage.clear();\n          dispatch({\n            type: null\n          });\n          history.push('/login');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }, \"LogOut\"))];\n    } else {\n      return [/*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        key: \"4\",\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, \"Login\")), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        key: \"5\",\n        to: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }\n      }, \"Signup\"))];\n    }\n  };\n\n  const searchUser = email => {\n    setSearch(email);\n    fetch(`/search-user`, {\n      method: 'post',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        email\n      })\n    }).then(res => res.json()).then(result => {\n      console.log(result);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    key: \"6\",\n    to: state ? \"/\" : \"/login\",\n    className: \"brand-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, \"Instagram\"), /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"nav-mobile\",\n    className: \"right \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, renderlist()))), /*#__PURE__*/React.createElement(Popover, {\n    id: id,\n    open: open,\n    anchorEl: anchorEl,\n    onClose: handleClose,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    className: classes2.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: classes2.ul,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, [0, 1, 2, 3, 4, 5, 6, 7, 7, 8, 9, 10].map(item => /*#__PURE__*/React.createElement(ListItem, {\n    key: `item--${item}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(ListItemText, {\n    primary: `Item ${item}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 37\n    }\n  })))))));\n};\n\nexport default Navbar;","map":{"version":3,"sources":["F:/INSTAGRAM CLONE/client/src/components/Navbar.js"],"names":["React","useContext","useEffect","useRef","Link","useHistory","UserContext","InputBase","fade","makeStyles","SearchIcon","Popover","Typography","List","ListItem","ListItemText","ListSubheader","useStyles2","theme","root","width","maxWidth","backgroundColor","palette","background","paper","position","overflow","maxHeight","listSection","ul","padding","Navbar","state","dispatch","history","anchorEl","setAnchorEl","useState","search","setSearch","searchRef","useStyles","flexGrow","menuButton","marginRight","spacing","searchIcon","height","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","breakpoints","up","handleClick","event","current","handleClose","open","Boolean","id","undefined","classes","classes2","renderlist","e","searchUser","target","value","input","localStorage","clear","type","push","email","fetch","method","headers","getItem","body","JSON","stringify","then","res","json","result","console","log","catch","err","vertical","horizontal","map","item"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { UserContext } from '../App'\r\n// import M from 'materialize-css'\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\n\r\nconst useStyles2 = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: 860,\r\n        backgroundColor: theme.palette.background.paper,\r\n        position: 'relative',\r\n        overflow: 'auto',\r\n        maxHeight: 300,\r\n    },\r\n    listSection: {\r\n        backgroundColor: 'inherit',\r\n    },\r\n    ul: {\r\n        backgroundColor: 'inherit',\r\n        padding: 0,\r\n    },\r\n}));\r\n\r\nconst Navbar = () => {\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const history = useHistory()\r\n    const [anchorEl, setAnchorEl] = React.useState(null)\r\n    const [search, setSearch] = React.useState()\r\n    const searchRef = useRef()\r\n    const useStyles = makeStyles((theme) => ({\r\n        root: {\r\n            flexGrow: 1,\r\n        },\r\n        menuButton: {\r\n            marginRight: theme.spacing(2),\r\n        },\r\n        searchIcon: {\r\n            padding: theme.spacing(0, 2),\r\n            height: '100%',\r\n            position: 'absolute',\r\n            pointerEvents: 'none',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n        },\r\n        inputRoot: {\r\n            color: 'inherit',\r\n        },\r\n        inputInput: {\r\n            padding: theme.spacing(1, 1, 1, 0),\r\n            // vertical padding + font size from searchIcon\r\n            paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n            transition: theme.transitions.create('width'),\r\n            width: '100%',\r\n            [theme.breakpoints.up('sm')]: {\r\n                width: '12ch',\r\n                '&:focus': {\r\n                    width: '20ch',\r\n                },\r\n            },\r\n        },\r\n    }));\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.current);\r\n\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? 'simple-popover' : undefined;\r\n    const classes = useStyles();\r\n    const classes2 = useStyles2();\r\n    const renderlist = () => {\r\n        if (state) {\r\n            return [<li><div className={classes.root}>\r\n                <div className={classes.search}>\r\n                    <div className={classes.searchIcon}>\r\n                        <SearchIcon />\r\n                    </div>\r\n                    <InputBase ref={searchRef}\r\n                        onChange={(e) => {\r\n                            searchUser(e.target.value)\r\n                        }}\r\n                        placeholder=\"Search…\"\r\n                        classes={{\r\n                            root: classes.inputRoot,\r\n                            input: classes.inputInput,\r\n                        }}\r\n                        inputProps={{ 'aria-label': 'search' }}\r\n                    />\r\n                </div>\r\n            </div>\r\n            </li>\r\n                ,\r\n            <li><Link key='2' to=\"/profile\">Profile</Link></li>,\r\n            <li><Link key='3' to=\"/creatpost\">Create Post</Link></li>,\r\n            <li>\r\n                <button className=\"btn waves-effect waves-light #f44336 red\" type=\"submit\" name=\"action\" onClick={() => {\r\n                    localStorage.clear()\r\n                    dispatch({ type: null })\r\n                    history.push('/login')\r\n                }}>LogOut</button>\r\n\r\n            </li>\r\n            ]\r\n        } else {\r\n            return [\r\n                <li><Link key='4' to=\"/login\">Login</Link></li>,\r\n                <li><Link key='5' to=\"/signup\">Signup</Link></li>,\r\n            ]\r\n        }\r\n    }\r\n\r\n    const searchUser = (email) => {\r\n        setSearch(email)\r\n        fetch(`/search-user`, {\r\n            method: 'post',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                email\r\n            })\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                console.log(result)\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n    return (\r\n        <>\r\n            <nav>\r\n                <div className=\"nav-wrapper\">\r\n                    <Link key='6' to={state ? \"/\" : \"/login\"} className=\"brand-logo\">Instagram</Link>\r\n                    <ul id=\"nav-mobile\" className=\"right \">\r\n                        {renderlist()}\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n            <Popover\r\n                id={id}\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n            >\r\n                <List className={classes2.root} >\r\n                    {\r\n                        <ul className={classes2.ul}>\r\n                            {[0, 1, 2, 3, 4, 5, 6, 7, 7, 8, 9, 10].map((item) => (\r\n                                <ListItem key={`item--${item}`}>\r\n                                    <ListItemText primary={`Item ${item}`} />\r\n                                </ListItem>\r\n                            ))}\r\n                        </ul>\r\n                    }\r\n                </List>\r\n            </Popover>\r\n        </>\r\n    )\r\n}\r\nexport default Navbar"]},"metadata":{},"sourceType":"module"}